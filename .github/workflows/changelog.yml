name: Generate changelog
on:
  release:
    types: [ created, edited ]
  push:
    branches: [ $default-branch ]
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
# Allow one concurrent deployment
concurrency:
  group: "pages"
  cancel-in-progress: true
jobs:
  generate-changelog:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: -1
      - uses: Release-Candy/auto-changelog-action@v2.2.0
        with:
          output: CHANGELOG.md
          changeLogName: CHANGELOG.md
          changeLogCommitMessage: "docs(changelog): Update change log"
          changeLogPrefix: "feat(✨): ,fix(🐛): ,docs(📚): ,refactor(🔧): ,style(🎨): ,perf(🚀): ,test(🚨): ,build(🛠️): ,ci(🔧):"